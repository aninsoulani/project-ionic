<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button auto-hide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title>Keranjang</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense" class="judulmenu">
    <ion-toolbar>
    <ion-title size="large">Keranjang</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-list [inset]="true">
    <ion-item>
      <ion-label>Total Item : {{total_jenis_barang}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Total Pesanan : Rp. {{total_harga}}</ion-label>
    </ion-item>
  </ion-list>

  <div class="tombol-cart">
    <ion-button color="success" (click)="confirmCarts()" fill="solid" shape="round" class="confirm">Proses Pesanan</ion-button>
    <ion-button color="danger" (click)="resetCarts()" fill="solid" shape="round" class="reset">Clear</ion-button>
  </div>

  <ion-card class="card-item" *ngFor="let carts of list_carts">
    <ion-card-header>
      <ion-card-title>{{carts.nama_makanan}}</ion-card-title>
    </ion-card-header>

    <ion-card-content class="description">
      <h3>Jumlah : {{carts.jumlah_pesanan}}</h3>
      <p><sup>Total</sup>{{carts.harga_akhir}}</p>
      <div class="tombol">
        <ion-button size="small" color="success" id="edit-modal{{carts.id_makanan}}">
          <ion-icon slot="icon-only" name="create-outline"></ion-icon>
        </ion-button>
        <ion-button size="small" color="danger" (click)="deleteCarts(carts.id_carts)">
          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
        </ion-button>
      </div>
    </ion-card-content>
    <ion-modal #modal [initialBreakpoint]="0.25" [breakpoints]="[0, 0.25, 0.5, 0.75]" handleBehavior="cycle" trigger="edit-modal{{carts.id_makanan}}">
      <ng-template>
        <ion-content class="ion-padding">
          <ion-list>
            <ion-item>
              <ion-label>
                <h2>{{carts.nama_makanan}}</h2>
                <ion-input required [(ngModel)]="jumlah_pesanan"  placeholder="Jumlah baru"></ion-input>
              </ion-label>
            </ion-item>
            <ion-button type="button" (click)="editCarts(carts.id_carts)" color="success" expand="block">Ubah Jumlah</ion-button>
          </ion-list>
        </ion-content>
      </ng-template>
    </ion-modal>
  </ion-card>
</ion-content>

<!-- <ion-header>
  <ion-toolbar color="warning">
    <ion-buttons slot="start">
      <ion-menu-button auto-hide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title>Carts</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card color="warning">
    <ion-card-header>
      <ion-card-title>Total</ion-card-title>
      Total Harga : {{total_harga}} <br>
      Total Jenis Barang : {{total_jenis_barang}} <br>
      Total Pesanan : {{total_pesanan}} <br>
      <ion-button (click)="confirmCarts()" fill="clear" horizontal="end">Konfirmasi Pesanan</ion-button>
      <ion-button (click)="resetCarts()" fill="clear" horizontal="end">Reset Cart</ion-button>
    </ion-card-header>
</ion-card>

  <ion-list [inset]="true">
    <ion-item *ngFor="let carts of list_carts">
      <ion-label><b>{{carts.nama_makanan}}</b><br><br>Harga Akhir : {{carts.harga_akhir}}<br>Harga Satuan : {{carts.harga_satuan}}<br>Id Carts : {{carts.id_carts}}<br>Id Makanan : {{carts.id_makanan}}<br>Jumlah Pesanan : {{carts.jumlah_pesanan}}<br>Kategori Makanan : {{carts.kategori_makanan}}</ion-label>
      <ion-button id="edit-modal{{carts.id_makanan}}" fill="clear" horizontal="end" >Edit</ion-button>
      <ion-button (click)="deleteCarts(carts.id_carts)" fill="clear" horizontal="end">Hapus</ion-button>
      <ion-modal #modal trigger="edit-modal{{carts.id_makanan}}">
        <ng-template>
          <ion-content>
            <ion-toolbar>
              <ion-title>Edit Carts</ion-title>
              <ion-buttons slot="end">
                <ion-button color="light" (click)="modal.dismiss()">Close</ion-button>
              </ion-buttons>
            </ion-toolbar>
            <ion-list>
              <ion-item>
                <ion-label>
                  <h2>{{carts.nama_makanan}}</h2>
                  <ion-input required [(ngModel)]="jumlah_pesanan"  placeholder="Masukkan jumlah pesanan baru"></ion-input>
                </ion-label>
              </ion-item>
            </ion-list>
            <ion-button type="button" (click)="editCarts(carts.id_carts)"  color="warning" expand="block">Simpan</ion-button>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-item>

    
  </ion-list>
</ion-content> -->
